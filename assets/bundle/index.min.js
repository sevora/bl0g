(()=>{"use strict";var e={388:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,a){var n=t.getContext("2d",{willReadFrequently:!0}),r=o[0],i=o[1],d=o[2],c=Math.sqrt(Math.pow(r,2)+Math.pow(i,2)+Math.pow(d,2)),s=!1;function u(){s=!0,l()}function l(){n.drawImage(e,0,0,e.videoWidth,e.videoHeight);for(var t=n.getImageData(0,0,e.videoWidth,e.videoHeight),o=0;o<t.data.length;o+=4){var u=t.data[o],v=t.data[o+1],f=t.data[o+2];Math.sqrt(Math.pow(u-r,2)+Math.pow(v-i,2)+Math.pow(f-d,2))<=a*c&&(t.data[o+3]=0)}n.putImageData(t,0,0),s&&window.requestAnimationFrame(l)}function v(){s=!1}e.addEventListener("loadeddata",(function(){t.width=e.videoWidth,t.height=e.videoHeight,t.style.width="".concat(e.width,"px"),t.style.height="auto",e.addEventListener("play",u),e.addEventListener("pause",v),e.addEventListener("ended",v)})),e.load()}},156:function(e,t,o){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=a(o(348)),r=o(337),i=a(o(388)),d=(0,n.default)(r.onSetupPage,r.onNavigateRoute).navigateRoute,c=document.querySelector("nav"),s=document.querySelectorAll("nav a"),u=document.querySelectorAll("#posts, #writers, #about"),l=window.location.hash,v=0;function f(e){e.stopPropagation();var t=e.currentTarget;d(t.dataset.displayPage),s.forEach((function(e){return e.classList.remove("active")}))}function h(){u.forEach((function(e,t){window.scrollY>=e.offsetTop-10&&"/"===window.location.pathname&&s.forEach((function(e){return e.classList[e===s[t]?"add":"remove"]("active")}))}))}document.querySelectorAll(".card").forEach((function(e){return e.addEventListener("click",f)})),window.addEventListener("scroll",(function(){c.classList[window.scrollY>0?"add":"remove"]("shadow"),h(),c.classList[window.scrollY>90&&1===Math.sign(window.scrollY-v)?"add":"remove"]("minimize"),v=window.scrollY})),s.forEach((function(e){return e.addEventListener("click",(function(e){return t=e.currentTarget,s.forEach((function(e){return e.classList[e===t?"add":"remove"]("active")})),void d("/");var t}))})),s.forEach((function(e){return(e.hash===l||"#home"===e.hash&&0===l.length)&&e.classList.add("active")})),h();var p=document.querySelector("#special-button"),m=document.querySelector("#special-canvas"),y=document.querySelector("#special-video");(0,i.default)(y,m,[0,255,0],.7),p.addEventListener("click",(function(){return y.play()})),y.addEventListener("play",(function(){m.style.removeProperty("display")})),y.addEventListener("ended",(function(){m.style.display="none"}))},337:function(e,t,o){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.onNavigateRoute=t.onSetupPage=void 0;var n=a(o(388)),r={darkness:function(){document.documentElement.style.setProperty("--background-color","#000"),document.documentElement.style.setProperty("--foreground-color","#f9f0f0"),document.documentElement.style.setProperty("--badge-color","#5e5e5e"),document.documentElement.style.setProperty("--hover-color","#4e4e4e")}},i=[],d=/Android.+Firefox\//.test(navigator.userAgent);t.onSetupPage=function(e){var t=e.querySelector("video[data-chroma-key]"),o=e.querySelector("canvas[data-chroma-key]"),a=e.dataset.transitionDelay,i=r[e.dataset.transitionFunction];t&&o&&((0,n.default)(t,o,[0,255,0],.75),t.addEventListener("ended",(function(){o.classList.remove("enter"),o.classList.add("exit"),i&&!a&&window.location.pathname==e.dataset.route&&i()})))},t.onNavigateRoute=function(e,t){var o=e.querySelector("video[data-chroma-key]"),a=e.querySelector("canvas[data-chroma-key]"),n=e.dataset.transitionDelay,c=r[e.dataset.transitionFunction];document.documentElement.removeAttribute("style"),i.forEach(clearTimeout),a&&(a.classList.remove("exit"),a.classList.add("enter")),o&&(e.style.removeProperty("display"),o.currentTime=0,console.log(o),t&&c?c():d||o.play().then((function(){if(n){var t=setTimeout((function(){c&&window.location.pathname==e.dataset.route&&c()}),parseFloat(n));i.push(t)}})))}},348:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var o,a=(o={},document.querySelectorAll(".page").forEach((function(e){return o[e.dataset.route.toLowerCase()]=e})),o);function n(e,o){var n=a[e.toLowerCase()];n&&(Object.entries(a).forEach((function(t){var o=t[0],a=t[1];o!==e&&a.style.setProperty("display","none")})),n.style.removeProperty("display"),t&&t(n,o),window.scroll(0,0),history.pushState({},null,"".concat(e)))}function r(){var e=window.location.pathname;a[e]&&n(e,!0)}return window.addEventListener("popstate",r),e&&Object.values(a).forEach(e),r(),{navigateRoute:n}}}},t={};!function o(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,o),r.exports}(156)})();